<h1>{{ profile.user.username }}'s Profile</h1>

{% if all_answered_correctly %}
    <div>
        <p><strong>Bio:</strong> {{ profile.bio }}</p>
        <p><strong>Age:</strong> {{ profile.age }}</p>
        <p><strong>City:</strong> {{ profile.city.name }}</p>
        <p><strong>Country:</strong> {{ profile.country.name }}</p>
        <p><strong>Hobbies:</strong> 
            {% for hobby in profile.hobbies.all %}
                {{ hobby.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </p>
        {% if profile.profile_picture %}
            <img src="{{ profile.profile_picture.url }}" alt="Profile Picture" width="150">
        {% else %}
            <img src="/static/default-profile.png" alt="Default Profile Picture" width="150">
        {% endif %}
    </div>

{% else %}
    <div id="dealbreaker-modal" class="modal">
        <div class="modal-content">
            <h2>Answer Dealbreaker Questions</h2>
            
            {% if error_message %}
                <p style="color: red;">{{ error_message }}</p>
            {% endif %}

            <form method="POST" id="dealbreaker-form">
                {% csrf_token %}
                {% for question in dealbreaker_questions %}
                    <div class="question">
                        <p>{{ question.text }}</p>
                        <input type="radio" name="question_{{ question.id }}" value="True" required> Yes
                        <input type="radio" name="question_{{ question.id }}" value="False" required> No
                    </div>
                {% endfor %}
                <button type="submit">Submit Answers</button>
            </form>
        </div>
    </div>
{% endif %}
